{% extends "base.html" %}
{% load static %}

<br>


{% block body %}


<style>
    .overlay {
      background-color: rgba(0, 102, 255, 0.6);
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    .gallery-item:hover .overlay {
      opacity: 1;
    }
    .plus-icon {
      transition: transform 0.4s ease;
    }
    .gallery-item:hover .plus-icon {
      transform: rotate(180deg);
    }
    /* Popup animation */
    #lightboxImg {
      transform: scale(0.9);
      opacity: 0;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    #lightbox.show #lightboxImg {
      transform: scale(1);
      opacity: 1;
    }
</style>


 <!-- ========================== GALLERY SECTION START ========================== -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 text-center mb-10">
      <h2 class="text-3xl md:text-4xl font-bold mb-3">Our Gallery</h2>
      <div class="w-20 h-[3px] bg-[#955c5a] mx-auto rounded"></div>
    </div>

    <!-- Gallery Grid -->
    <div id="galleryGrid" class="max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 px-4">
      <!-- Item 1 -->
      <div class="gallery-item relative cursor-pointer group">
        <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=800&q=80" alt="" class="w-full h-48 object-cover rounded-lg shadow-md gallery-img">
        <div class="overlay absolute inset-0 flex justify-center items-center rounded-lg">
          <div class="plus-icon text-white text-4xl font-bold">+</div>
        </div>
      </div>
      <!-- Item 2 -->
      <div class="gallery-item relative cursor-pointer group">
        <img src="https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&w=800&q=80" alt="" class="w-full h-48 object-cover rounded-lg shadow-md gallery-img">
        <div class="overlay absolute inset-0 flex justify-center items-center rounded-lg">
          <div class="plus-icon text-white text-4xl font-bold">+</div>
        </div>
      </div>
      <!-- Item 3 -->
      <div class="gallery-item relative cursor-pointer group">
        <img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=800&q=80" alt="" class="w-full h-48 object-cover rounded-lg shadow-md gallery-img">
        <div class="overlay absolute inset-0 flex justify-center items-center rounded-lg">
          <div class="plus-icon text-white text-4xl font-bold">+</div>
        </div>
      </div>
      <!-- Item 4 -->
      <div class="gallery-item relative cursor-pointer group">
        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=800&q=80" alt="" class="w-full h-48 object-cover rounded-lg shadow-md gallery-img">
        <div class="overlay absolute inset-0 flex justify-center items-center rounded-lg">
          <div class="plus-icon text-white text-4xl font-bold">+</div>
        </div>
      </div>
    </div>
  </section>
  <!-- ========================== GALLERY SECTION END ========================== -->


  <!-- ========================== POPUP LIGHTBOX ========================== -->
  <div id="lightbox" class="fixed inset-0 bg-black/80 hidden justify-center items-center z-50">
    <!-- Close Button -->
    <button id="closeBtn" class="absolute top-5 right-5 text-white text-3xl font-bold hover:text-red-400">&times;</button>

    <!-- Prev -->
    <button id="prevBtn" class="absolute left-5 text-white text-3xl hover:text-blue-400">&#10094;</button>

    <!-- Image -->
    <div class="max-w-3xl w-full px-4 flex justify-center">
      <img id="lightboxImg" src="" alt="Preview" class="rounded-lg shadow-lg max-h-[80vh] object-contain">
    </div>

    <!-- Next -->
    <button id="nextBtn" class="absolute right-5 text-white text-3xl hover:text-blue-400">&#10095;</button>
  </div>

  <!-- ========================== SCRIPT ========================== -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const galleryItems = document.querySelectorAll('.gallery-img');
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightboxImg');
      const closeBtn = document.getElementById('closeBtn');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');

      let currentIndex = 0;

      // Open Popup
      galleryItems.forEach((img, index) => {
        img.addEventListener('click', () => {
          currentIndex = index;
          showImage(currentIndex);
          lightbox.classList.remove('hidden');
          setTimeout(() => lightbox.classList.add('show'), 10);
          document.body.style.overflow = 'hidden';
        });
      });

      // Close Popup
      closeBtn.addEventListener('click', closeLightbox);
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      function closeLightbox() {
        lightbox.classList.remove('show');
        setTimeout(() => {
          lightbox.classList.add('hidden');
          document.body.style.overflow = 'auto';
        }, 200);
      }

      // Prev / Next
      prevBtn.addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
        showImage(currentIndex);
      });

      nextBtn.addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % galleryItems.length;
        showImage(currentIndex);
      });

      function showImage(index) {
        lightboxImg.src = galleryItems[index].src;
      }

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('hidden')) {
          if (e.key === 'ArrowLeft') prevBtn.click();
          if (e.key === 'ArrowRight') nextBtn.click();
          if (e.key === 'Escape') closeBtn.click();
        }
      });
    });
  </script>




{% endblock body %}
